<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Message</title>
    <!-- Linking Google Font Link For Icons --> 
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="/css/admin/message.css"> 
</head>
<body>
   <div class="header">

    <!-- Notifications -->
    <div class="notifications">
        <span class="material-symbols-outlined" id="notifIcon">notifications</span>
        <div class="notif-count" id="notifCount">3</div>
    </div>

    
    <!-- User Account -->
    <div class="user-account">
        <div class="user-profile">
            <img src="/image/profile-img.png" alt="profile-img">
            <div class="user-detail">
                <h3>Aileen Mercado</h3>
                <span>Landlord</span>
            </div>
        </div>
    </div>
</div>

<!-- Notification Popup -->
<div class="notif-popup" id="notifPopup">
    <div class="notif-popup-header">
        <h4>Notifications</h4>
        <span id="closeNotif">&times;</span>
    </div>
    <div class="notif-popup-body">
        <p class="notif-item">New payment received from Juan Dela Cruz</p>
        <p class="notif-item">Room 101 is now available</p>
        <p class="notif-item">Tenant Maria updated profile</p>
    </div>
    <div class="notif-popup-footer">
        <p class="view-all">View all notifications</p>
    </div>
</div>

    <aside class="sidebar">
        <div class="sidebar-header">
            <img src="/image/logo.png" alt="logo">
            <h3>BH Payment Monitoring </h3>
        </div>
        <ul class="sidebar-links">
            <!-- <h4>Main Menu</h4> -->
            <div class="menu-separator"></div>
            <li><a href="Admindashboard"><span class="material-symbols-outlined">Dashboard</span>Dashboard</a></li>
            <li><a href="usermanagement"><span class="material-symbols-outlined">Manage_Accounts</span>Tenants</a></li>
             <li><a href="room"><span class="material-symbols-outlined">room_preferences</span>Room</a></li>
            <li><a href="payment"><span class="material-symbols-outlined">payments</span>Deposit</a></li>
             <li><a href="monthlypayment"><span class="material-symbols-outlined">money</span>Monthly Payment</a></li>
           
                  <li class="messages">
    <a href="message" class="messages-link">
        <span class="material-symbols-outlined" id="messageIcon">chat</span>
        Messages
        <span class="msg-count" id="msgCount">5</span>
    </a>
</li>
            <li><a href="/login"><span class="material-symbols-outlined">Logout</span>Logout</a></li>
        </ul>
        
    </aside>

    <main class="main-content p-4 w-100">
        <div class="sticky-header">
            <h4>Messages</h4>
        </div>

      <div class="chat-ui">

    <!-- LEFT PANEL -->
    <div class="chat-sidebar">
        <input type="text" placeholder="Search Tenant" class="chat-search">

        <div class="chat-user active">
            <img src="/image/profile-img.png" alt="">
            <div>
                <h5>Stephanny Obedencio</h5>
                <span>Nevermind</span>
            </div>
            <small>Today, 9:52pm</small>
        </div>
    </div>

    
    <!-- RIGHT PANEL -->
    <div class="chat-main">

        <!-- Header -->
        <div class="chat-header">
            <img src="/image/profile-img.png">
            <h4>Stephanny</h4>
        </div>

        <!-- Messages -->
        <div class="chat-messages">

            <div class="msg incoming">
                <p>Hey There!</p>
                <span>Today, 8:30pm</span>
            </div>

            <div class="msg incoming">
                <p>How are you?</p>
                <span>Today, 8:30pm</span>
            </div>

            <div class="msg outgoing">
                <p>Hello!</p>
                <span>Today, 8:33pm</span>
            </div>

            <div class="msg outgoing">
                <p>I am fine and how are you?</p>
                <span>Today, 8:34pm</span>
            </div>

            <div class="msg incoming">
                <p>I am doing well, Can we meet tomorrow?</p>
                <span>Today, 8:36pm</span>
            </div>

            <div class="msg outgoing">
                <p>Yes Sure!</p>
                <span>Today, 8:58pm</span>
            </div>

        </div>

        <!-- Input -->
        <div class="chat-input">
            <input type="text" placeholder="Type your message here...">
            <button>âž¤</button>
        </div>

    </div>

</div>


<script>
// ================== NOTIFICATION SCRIPT ==================
const notifIcon = document.getElementById('notifIcon');
const notifPopup = document.getElementById('notifPopup');
const closeNotif = document.getElementById('closeNotif');

notifIcon.addEventListener('click', (e) => {
    e.stopPropagation();
    notifPopup.style.display =
        notifPopup.style.display === 'block' ? 'none' : 'block';
});

closeNotif.addEventListener('click', () => {
    notifPopup.style.display = 'none';
});

document.addEventListener('click', (e) => {
    if (!notifPopup.contains(e.target) && e.target !== notifIcon) {
        notifPopup.style.display = 'none';
    }
});


// ================== CHAT MESSAGE SCRIPT ==================
const chatInput = document.querySelector('.chat-input input');
const sendBtn = document.querySelector('.chat-input button');
const chatMessages = document.querySelector('.chat-messages');

function sendMessage() {
    const message = chatInput.value.trim();
    if (message === '') return;

    const msgDiv = document.createElement('div');
    msgDiv.classList.add('msg', 'outgoing');

    msgDiv.innerHTML = `
        <p>${message}</p>
        <span>${new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</span>
    `;

    chatMessages.appendChild(msgDiv);
    chatInput.value = '';
    chatMessages.scrollTop = chatMessages.scrollHeight;
}

sendBtn.addEventListener('click', sendMessage);

chatInput.addEventListener('keypress', (e) => {
    if (e.key === 'Enter') {
        e.preventDefault();
        sendMessage();
    }
});


// ================== MESSAGE BADGE RESET ==================
const messageLink = document.querySelector('.messages-link');
const msgCount = document.getElementById('msgCount');

messageLink.addEventListener('click', () => {
    msgCount.style.display = 'none';
});
</script>





</body>
</html>